{% extends 'base.html' %}
{% block title %} Карточка {% endblock %}
{% block content %}
<div id="for_popup">
    <!-- ДЛЯ ЧЕКЛИСТА -->
</div>
<form method="POST" name="card" id="card">
{% csrf_token %}
<div class="row p-2" style="border: 2px solid rgb(36, 36, 36);">
    <!-- 1 БЛОК -->
    <div class="col-3" style="border: 1px solid gray;">
        <div class="row" style="height: 400px;">
            <iframe style="width: 100%;" src="https://demov5_kz.hostedcc.ru/agentdesktop/AgentDesktopSdkTest.jsp" frameborder="0"></iframe>
        </div>
        <button type="button">Позвонить</button>
        <!-- <button type="button" onclick="showDialog()">Добавить</button> -->
        <button type="button" onclick="addCheckList()">Добавить</button>
            <div class="row mt-3">
                <ul class="nav justify-content-start" style="padding: 0px; margin-left:5px;">
                    <li class="nav-item" style="padding: 0px;">
                        <button class="active" id="patients" onclick="choseHistory('patients')" aria-current="page" onclick="" style="padding: 5px; 
                                                                                            border-top: 1px solid #c9c9c9; 
                                                                                            border-left: 1px solid #c9c9c9; 
                                                                                            border-right:1px solid #c9c9c9; 
                                                                                            border-radius:10% 10% 0 0;">
                            Пациенты
                    </button>
                    </li>
                    <li class="nav-item" style="padding: 0px;">
                        <button id="calls" onclick="choseHistory('calls')" style="padding: 5px; 
                                                                border-top: 1px solid #c9c9c9; 
                                                                border-left: 1px solid #c9c9c9; 
                                                                border-right:1px solid #c9c9c9; 
                                                                border-radius:10% 10% 0 0;">
                        История звонков</button>
                    </li>
                </ul>
            </div>
            <div id="modal_patients">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>№</th>
                            <th>ФИО</th>
                            <th>Телефон</th>
                            <th>ПМСП</th>
                            <th>Дата начала</th>
                            <th>Дата окончания</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div id="modal_calls" style="display: none;">
                <table class="table table-bordered table-striped" style="border-bottom:rgb(36, 36, 36)">
                    <thead>
                        <tr>
                            <th>№</th>
                            <th>ЗВОНОК</th>
                            <th>ЗВОНОК</th>
                            <th>ЗВОНОК</th>
                            <th>ЗВОНОК</th>
                            <th>ЗВОНОК</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div id="modal_info">
                <table class="table table-bordered table-striped">
                    <thead>
                        <tr>
                            <th>Дата и время</th>
                            <th>Состояние</th>
                            <th>Темп.</th>
                            <th>Сат.</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>
    </div>
    <!-- 2 БЛОК -->
    <div class="col-2" style="border: 1px solid gray;">
        <div class="row">
            <div class="col-5 mt-1">
                <label for="checkbox">Резидент</label>
                <input {% if g_incident.resident %} checked {% endif %} style="width: 20px;" type="checkbox" id="is_resident" name="is_resident">
            </div>
            <div class="col-7 mt-1">
                <label for="iin">ИИН</label>
                <input style="width: 60%;" type="text" value="{{g_patient.iin}}" id="iin" name="iin">
            </div>
        </div>
        <h3 class="mt-2" style="padding: 5px; 
                    border-top: 1px solid #c9c9c9; 
                    border-left: 1px solid #c9c9c9; 
                    border-right:1px solid #c9c9c9; 
                    border-radius:5% 5% 0 0;
                    border: 1px solid gray;
                    background-color:rgb(204, 204, 204);">
            Персональные данные
        </h3>
        <div class="p-1" name="Персональные данные" style="border: 1px solid gray;">
            <div class="row">
                <div class="col">
                    <label for="fio">ФИО пациента</label>
                    <br>
                    <input type="text" value="{{ g_incident.fio }}" name="fio" id="fio">
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <label for="birthday">Дата рождения</label>
                    <br>
                    <input type="date" value="{{ g_incident.birthday_format }}" name="birthday" id="birthday">
                </div>
                <div class="col">
                    <label for="sex">Пол</label>
                    <br>
                    <select name="sex" id="sex">
                        <option value=""></option>
                        <option {% if g_incident.sex == 1 %} selected {% endif %} value="1">Муж</option>
                        <option {% if g_incident.sex == 2 %} selected {% endif %} value="2">Жен</option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <label for="s_country">Гражданство</label>
                    <br>
                    <select name="s_country" disabled id="s_country">
                        <option value=""></option>
                        {% for s_country in s_countries %}
                            <option {% if s_country.id == g_incident.country_id %} selected {% endif %} value="{{ s_country.id }}">{{ s_country.name_ru }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col">
                    <label for="num_doc">№ Документа</label>
                    <br>
                    <input type="text" disabled value="{{ g_incident.num_crossdoc }}" id="num_doc" name="num_doc">
                </div>
            </div>
        </div>
        <h3 class="mt-2" style="padding: 5px; 
                    border-top: 1px solid #c9c9c9; 
                    border-left: 1px solid #c9c9c9; 
                    border-right:1px solid #c9c9c9; 
                    border-radius:5% 5% 0 0;
                    border: 1px solid gray;
                    background-color:rgb(204, 204, 204);">
            Текущий адрес в городе Алматы
        </h3>
        <div class="p-1" name="Текущий адрес в городе Алматы" style="border: 1px solid gray;">    
            <div class="row">
                <div class="col">
                    <label for="s_region">Район</label>
                    <br>
                    <select name="s_region" id="s_region">
                        <option value=""></option>
                        {% for s_region in s_regions %}
                            <option {% if s_region.postal_code == g_incident.loc_region %} selected {% endif %} value="{{ s_region.id }}">{{ s_region.name_ru }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col">
                    <label for="s_village">Село в черте города</label>
                    <br>
                    <select name="s_village" id="s_village">
                        <option value=""></option>
                        {% for s_village in s_villages %}
                            <option {% if s_village.village_id == g_incident.village %} selected {% endif %} value="{{ s_village.id }}">{{ s_village.name_ru }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <label for="s_street">Улица</label>
                    <br>
                    <input value="{{ g_incident.loc_street }}" name="s_street" id="s_street">
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <label for="home">№ дома</label>   
                    <br>
                    <input type="text" value="{{ g_incident.loc_home }}" id="home" name="home">
                </div>
                <div class="col">
                    <label for="block">Блок</label>   
                    <br>
                    <input type="text" id="block" value="{{ g_incident.loc_block }}" name="block">
                </div>
                <div class="col">
                    <label for="kv">Квартира</label>   
                    <br>
                    <input type="text" id="kv" value="{{ g_incident.loc_flat }}" name="kv">
                </div>
            </div>
        </div>
        
    <div class="p-1" name="новый блок">   
        <div class="row">
            <div class="col">
                <div class="row">
                    <div class="col-6">
                        <label for="date_vz">Дата</label>
                        <br>
                        <input type="date" value="{{ g_incident.date_start }}" id="date_vz" name="date_vz">
                    </div>
                    <div class="col-6">
                        <label for="time_vz">Время</label>
                        <br>
                        <input style="width: 70px;" value="{{ g_incident.time_start }}" type="time" id="time_vz" name="time_vz">
                    </div>
                </div>
                <label for="pmsp">ПМСП</label>
                <br>
                <select name="pmsp" id="pmsp">
                    <option value=""></option>
                    {% for s_pmsp in s_pmsps %}
                        <option {% if s_pmsp.bin == g_incident.pmsp_name %} selected {% endif %} value="{{ s_pmsp.bin }}">{{ s_pmsp.abrev_rus }}</option>
                    {% endfor %}
                </select> 
            </div>    
        </div>
        <div class="row">
            <div class="col">
                <label for="phone">Тел. моб.</label>
                <br>
                <input type="text" value="{{ g_incident.phone_contact_m }}" id="phone" name="phone">
            </div>
            <div class="col">
                <label for="phone_home">Тел. стац.</label>
                <br>
                <input type="text" id="phone_home" {% if g_incident.phone_contact != 0 %} value="{{ g_incident.phone_contact }}" {% else %} value="" {% endif %} name="phone_home">
            </div>
        </div>
        <div class="row">
            <div class="col">
                <label for="additional_contacts">Дополнительные контакты</label>
                <br>
                <input style="height: 50px; vertical-align: top;" value="{{ g_incident.phone_other }}" type="text" id="additional_contacts" name="additional_contacts">
            </div>
        </div>
        <div class="row">
            <div class="col">
                <label for="info_for_tmc_agent">Информация для сотрудника ТМЦ</label>
                <br>
                <input id="info_for_tmc_agent" value="{{ g_incident.coment }}" name="info_for_tmc_agent" style="height: 125px; vertical-align: top;" type="text">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-6">
            <label for="result_of_end">Результат снятия</label>
            <br>
            <select name="result_of_end" id="result_of_end">
                <option value=""></option>
                {% for s_status_end in s_statuses_end %}
                    <option {% if s_status_end.id == g_patient.status_end %} selected {% endif %} value="{{ s_status_end.id }}">{{ s_status_end.name_ru }}</option>
                {% endfor %}    
            </select>
        </div>
        <div class="col-6">
            <label for="date_of_end">Дата снятия с ДН</label>
            <br>
            <!-- НА ДОРАБОТКУ -->
            <input type="datetime-local" value="{{ g_patient.status_end_date_format }}" id="date_of_end" name="date_of_end">
        </div>
    </div>
    </div>
    <!-- 3 БЛОК -->
    <div class="col-3">
        <div class="p-1">
            <div class="row mt-1">
                <label class="col-3" for="">Группа риска</label>
                <select class="col-9" style="width: 40%;" name="s_riskgroup" id="s_riskgroup">
                    <option value=""></option>
                    {% for s_riskgroup in s_riskgroups %}
                        <option {% if s_riskgroup.id == g_incident.risk_group %} selected {% endif %} value="{{ s_riskgroup.id }}">{{ s_riskgroup.name_ru }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="p-1 mt-2" name="Текущий адрес в городе Алматы" style="border: 1px solid gray; font-size: 13px;">
                <div class="row">
                    
                </div>
                <div class="row">
                    <div class="col-9">Ожирение</div>
                    <div class="col-3"><input {% if g_incident.ojirenie %} checked {% endif %}  id="pmsp_ojirenie" name="pmsp_ojirenie" type="checkbox"></div>
                </div>
                <div class="row">
                    <div class="col-9">Болезнь сердца</div>
                    <div class="col-3"><input {% if g_incident.serdce %} checked {% endif %} id="pmsp_serdce" name="pmsp_serdce" type="checkbox"></div>
                </div>
                <div class="row">
                    <div class="col-9">Артер. гипертензия</div>
                    <div class="col-3"><input {% if g_incident.hypertension %} checked {% endif %} type="checkbox" name="pmsp_ag" id="pmsp_ag"></div>
                </div>
                <div class="row">
                    <div class="col-9">Бронхиальная астма</div>
                    <div class="col-3"><input {% if g_incident.astma %} checked {% endif %} type="checkbox" id="pmsp_bronh" name="pmsp_bronh"></div>
                </div>
                <div class="row">
                    <div class="col-9">Болезнь печени</div>
                    <div class="col-3"><input type="checkbox" {% if g_incident.pechen %} checked {% endif %} name="pmsp_pechen" id="pmsp_pechen"></div>
                </div>
                <div class="row">
                    <div class="col-9">Гемат. расстр.</div>
                    <div class="col-3"><input {% if g_incident.gema_rast %} checked {% endif %} type="checkbox" name="pmsp_gemat" id="pmsp_gemat"></div>
                </div>
                <div class="row">
                    <div class="col-9">Болезнь почек</div>
                    <div class="col-3"><input {% if g_incident.pochki %} checked {% endif %} name="pmsp_pochek" id="pmsp_pochek" type="checkbox"></div>
                </div>
                <div class="row">
                    <div class="col-9">Онкологические</div>
                    <div class="col-3"><input {% if g_incident.cancer %} checked {% endif %} type="checkbox" name="pmsp_onko" id="pmsp_onko"></div>
                </div>
                <div class="row">
                    <div class="col-9">Другие хронич. заболевания</div>
                    <div class="col-3"><input {% if g_incident.h_oth_zabolev %} checked {% endif %} type="checkbox" id="pmsp_other_chronic" name="pmsp_other_chronic"></div>
                </div>
                <div class="row">
                    <div class="col-9">Пневмония</div>
                    <div class="col-3"><input id="pmsp_pneumonia" {% if g_incident.h_pnevmonia %} checked {% endif %} name="pmsp_pneumonia" type="checkbox"></div>
                </div>
                <div class="row">
                    <div class="col-9">Сахарный диабет</div>
                    <div class="col-3"><input id="pmsp_diabetes" {% if g_incident.h_sahar_diabet %} checked {% endif %} name="pmsp_diabetes" type="checkbox"></div>
                </div>
                <div class="row">
                    <div class="col-9">Другие эндокр. заболевания</div>
                    <div class="col-3"><input type="checkbox" {% if g_incident.h_oth_endocrin %} checked {% endif %} id="pmsp_other_endo" name="pmsp_other_endo"></div>
                </div>
                <div class="row">
                    <div class="col-9">ХОБЛ</div>
                    <div class="col-3"><input id="pmsp_hobl" {% if g_incident.hobl %} checked {% endif %} name="pmsp_hobl" type="checkbox"></div>
                </div>
            </div>
            <h3 class="mt-2" style="padding: 5px; 
                    border-top: 1px solid #c9c9c9; 
                    border-left: 1px solid #c9c9c9; 
                    border-right:1px solid #c9c9c9; 
                    border-radius:5% 5% 0 0;
                    border: 1px solid gray;
                    background-color:rgb(204, 204, 204);">
                Берем. (Триместр)
            </h3>
            <div class="p-1" name="Берем. (Триместр)" style="border: 1px solid gray;">
                <div class="row">
                    <div class="col text-center">
                        <input {% if g_incident.pregnancy == 0 %} checked {% endif %} class="col" type="radio" name="pregnancy" id="pregnancy" value="0">
                        <label for="">Нет</label>
                    </div>
                    <div class="col text-center">
                        <input {% if g_incident.pregnancy == 1 %} checked {% endif %} class="col" type="radio" name="pregnancy" id="pregnancy" value="1">
                        <label for="">1</label>
                    </div>
                    <div class="col text-center">
                        <input {% if g_incident.pregnancy == 2 %} checked {% endif %} class="col" type="radio" name="pregnancy" id="pregnancy" value="2">
                        <label for="">2</label>
                    </div>
                    <div class="col text-center">
                        <input {% if g_incident.pregnancy == 3 %} checked {% endif %} class="col" type="radio" name="pregnancy" id="pregnancy" value="3">
                        <label for="">3</label>
                    </div>
                </div>
            </div>
            <div class="row mt-3 text-center">
                <label class="col-3" for="">Подробное описание диагноза</label>
                <input class="col-9" style="height: 55px; width: 72.5%;" value="{{ g_incident.other_diagnos }}" id="detailed_diagnosis_info" name="detailed_diagnosis_info" name="" type="text">
            </div>
            <div class="row mt-3 text-center">
                <label class="col-3" for="">Нозология</label>
                <input class="col-9" style="height: 55px; width: 72.5%;" value="{{ g_incident.simp }}" id="nosologiya" name="nosologiya" type="text">
            </div>
            <div class="row">
                <div class="col">
                    <label for="">Диагноз наблюдения</label>
                    <br>
                    <select name="diagnosis_monitoring" id="diagnosis_monitoring">
                        <option value=""></option>
                        <option {% if g_patient.watch_diagnosis == 'U071' %} selected {% endif %} value="U071">U071</option>
                        <option {% if g_patient.watch_diagnosis == 'U072' %} selected {% endif %} value="U072">U072</option>
                    </select>
                </div>
                <div class="col">
                    <label for="">Дата диагноза</label>
                    <br>
                    <input id="diagnosis_date" value="{{ g_patient.diagnosis_date_format }}" name="diagnosis_date" id="diagnosis_date" type="date">
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <label for="">Состояние пациента</label>
                    <br>
                    <select name="patient_condition" id="patient_condition">
                        <option value=""></option>
                        {% for s_condition in s_conditions %}
                            <option {% if s_condition.id == g_patient.patient_condition_start %} selected {% endif %} value="{{ s_condition.id }}">{{ s_condition.name_ru }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col">
                    <label for="">Дата взятия ДН</label>
                    <br>
                    <input id="pmsp_start_date" name="pmsp_start_date" type="date" value="{{g_patient.pmsp_start_date_date_format}}">
                </div>
            </div>
            <div class="row">
                <div class="col row">
                    <h6 class="mt-2 mx-auto" style="padding: 5px;  
                            border-top: 1px solid #c9c9c9; 
                            border-left: 1px solid #c9c9c9; 
                            border-right:1px solid #c9c9c9; 
                            border-radius:5% 5% 0 0;
                            border: 1px solid gray;
                            background-color:rgb(204, 204, 204);
                            width: 75%;">
                            После стационара
                    </h6>
                    <div class="mx-auto">
                        <div class="row" class="mx-auto" style="width: 80%;">
                            <div class="col">
                                <input style="width: 20px;" type="radio" name="sign_observation" id="sign_observation" value="1">
                                <label for="">Да</label>
                            </div>
                            <div class="col">
                                <input style="width: 20px;" type="radio" name="sign_observation" id="sign_observation" value="0">
                                <label for="">Нет</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <h6 class="mt-2 mx-auto" style="padding: 5px; 
                        border-top: 1px solid #c9c9c9; 
                        border-left: 1px solid #c9c9c9; 
                        border-right:1px solid #c9c9c9; 
                        border-radius:5% 5% 0 0;
                        border: 1px solid gray;
                        background-color:rgb(204, 204, 204);
                        width: 75%;">
                        Наличие пневмонии
                    </h6>
                    <div class="mx-auto" style="width: 80%;">
                        <div class="row">
                            <div class="col">
                                <input style="width: 20px;" type="radio" name="pneumonia" id="pmeumonia">
                                <label for="">Да</label>
                            </div>
                            <div class="col">
                                <input style="width: 20px;" type="radio" name="pneumonia" id="pmeumonia">
                                <label for="">Нет</label>
                            </div>
                        </div>
                   </div>
                </div>
            </div>
        </div>
        <div>
            <label for="presc_therapy">Назначения</label>
            <br>
            <input id="presc_therapy" value="{{ g_patient.presc_therapy }}" style="height: 55px;" name="presc_therapy" type="text">
        </div>
        <div class="row">
            <div class="col">
                <label for="complaint">Жалобы на СЭС</label>
                <input type="text" id="complaint" name="complaint" value="{{ g_patient.complaint_ses }}">
                <!-- <select name="complaints" id="complaints">
                    {% for s_complaint in s_complaints %}
                        <option {% if s_complaint.id == g_incident.complaint %} selected {% endif %} value="{{ s_complaint.id }}">{{ s_complaint.name }}</option>
                    {% endfor %}
                </select> -->
            </div>    
            <div class="col">
                <label for="complaint_days">Количество суток</label>
                <br>
                <input type="text" id="complaint_days" name="complaint_days">
            </div>
        </div>
    </div>
    <!-- 4 БЛОК -->
    <div class="col-3">
        <div class="p-1"></div>
            <div class="mt-1 row">
                <label for="" class="col-4">Причина сдачи ПЦР</label>
                <select class="col-8" name="pcr_reason" id="pcr_reason" style="width: 60%;">
                    <option value=""></option>
                    <option {% if g_patient.pcr_reason == 1 %} selected {% endif %} value="1">Самообращение</option>
                    <option {% if g_patient.pcr_reason == 2 %} selected {% endif %} value="2">Проф. мероприятия</option>
                    <option {% if g_patient.pcr_reason == 3 %} selected {% endif %} value="3">ПМСП Контактный</option>
                </select>
            </div>
            <div class="row">
                <div class="col-6">
                    <h3 class="mt-2" style="padding: 5px; 
                        border-top: 1px solid #c9c9c9; 
                        border-left: 1px solid #c9c9c9; 
                        border-right:1px solid #c9c9c9; 
                        border-radius:5% 5% 0 0;
                        border: 1px solid gray;
                        background-color:rgb(204, 204, 204);">
                    Результат ПЦР
                    </h3>
                    <div class="p-1" name="Результат ПЦР" style="height: 45px; border: 1px solid gray;">
                        {% if g_patient.pcr_result == True %}
                        <div class="row">
                            <div class="col">
                                <input checked style="width: 20px;" name="pcr_result" id="pcr_result" type="radio" value="1">
                                <label for="pcr_result">+</label>
                            </div>
                            <div class="col">
                                <input style="width: 20px;" name="pcr_result" id="pcr_result" type="radio" value="0">
                                <label for="">-</label>
                            </div>
                        </div>
                        {% elif g_patient.pcr_result == False %}
                        <div class="row">
                            <div class="col">
                                <input style="width: 20px;" name="pcr_result" id="pcr_result" type="radio">
                                <label checked for="pcr_result">+</label>
                            </div>
                            <div class="col">
                                <input style="width: 20px;" name="pcr_result" id="pcr_result" type="radio">
                                <label for="">-</label>
                            </div>
                        </div>
                        {% else %}
                        <div class="row">
                            <div class="col">
                                <input style="width: 20px;" name="pcr_result" id="pcr_result" type="radio">
                                <label for="pcr_result">+</label>
                            </div>
                            <div class="col">
                                <input style="width: 20px;" name="pcr_result" id="pcr_result" type="radio">
                                <label for="">-</label>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
                <div class="col-4">
                    <div class="row mt-1">
                        <label for="">Дата провед. ПЦР</label>
                        <br>
                        <input type="date" id="pcr_test_date" value="{{ g_patient.pcr_date_test_format }}" name="pcr_test_date">
                    </div>
                    <div class="row mt-1">
                        <label for="">Дата рез. ПЦР</label>
                        <br>
                        <input type="date" id="pcr_result_date" value="{{ g_patient.pcr_date_receipt_format }}" name="pcr_result_date">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <h3 class="mt-2" style="padding: 5px; 
                        border-top: 1px solid #c9c9c9; 
                        border-left: 1px solid #c9c9c9; 
                        border-right:1px solid #c9c9c9; 
                        border-radius:5% 5% 0 0;
                        border: 1px solid gray;
                        background-color:rgb(204, 204, 204);">
                    Результат КТ
                    </h3>
                    <div class="p-1" name="Результат КТ" style="border: 1px solid gray;">
                        {% if g_patient.result_kt == True %}
                        <div class="row">
                            <div class="col">
                                <input checked style="width: 20px;" type="radio" id="kt_result" name="kt_result" value="1">
                                <label for="">+</label>
                            </div>
                            <div class="col">
                                <input style="width: 20px;" type="radio" id="kt_result" name="kt_result" value="0">
                                <label for="">-</label>
                            </div>
                        </div>
                        {% elif g_patient.result_kt == False %}
                        <div class="row">
                            <div class="col">
                                <input style="width: 20px;" type="radio" id="kt_result" name="kt_result" value="1">
                                <label for="">+</label>
                            </div>
                            <div class="col">
                                <input checked style="width: 20px;" type="radio" id="kt_result" name="kt_result" value="0">
                                <label for="">-</label>
                            </div>
                        </div>
                        {% else %}
                        <div class="row">
                            <div class="col">
                                <input style="width: 20px;" type="radio" id="kt_result" name="kt_result" value="1">
                                <label for="">+</label>
                            </div>
                            <div class="col">
                                <input style="width: 20px;" type="radio" id="kt_result" name="kt_result" value="0">
                                <label for="">-</label>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
                <div class="col-4">
                    <div class="row mt-1">
                        <label for="">Дата КТ</label>
                        <br>
                        <input type="date" value="{{ g_patient.kt_date_format }}" id="kt_date" name="kt_date">
                    </div>
                </div>
            </div>
            <div class="row mt-2">
                <div class="col">
                    <label for="">Заключение КТ</label>
                    <br>
                    <input type="text" value="{{ g_patient.diagnosis_kt }}" name="kt_result_diagnosis" id="kt_result_diagnosis">
                </div>
            </div>
            <div class="row mt-1">
                <div class="col">
                    <h3 class="mt-2" style="padding: 5px; 
                        border-top: 1px solid #c9c9c9; 
                        border-left: 1px solid #c9c9c9; 
                        border-right:1px solid #c9c9c9; 
                        border-radius:5% 5% 0 0;
                        border: 1px solid gray;
                        background-color:rgb(204, 204, 204);">
                    Рентген
                    </h3>
                    <div class="p-1" name="Рентген" style="border: 1px solid gray;">
                        {% if g_patient.xray == True %}
                        <div class="row">
                            <div class="col">
                                <input checked style="width: 20px;" name="rentgen_result" id="rentgen_result" type="radio" value="1">
                                <label for="">+</label>
                            </div>
                            <div class="col">
                                <input style="width: 20px;" name="rentgen_result" id="rentgen_result" type="radio" value="0">
                                <label for="">-</label>
                            </div>
                        </div>
                        {% elif g_patient.xray == False %}
                        <div class="row">
                            <div class="col">
                                <input style="width: 20px;" name="rentgen_result" id="rentgen_result" type="radio" value="1">
                                <label for="">+</label>
                            </div>
                            <div class="col">
                                <input checked style="width: 20px;" name="rentgen_result" id="rentgen_result" type="radio" value="0">
                                <label for="">-</label>
                            </div>
                        </div>
                        {% else %}
                        <div class="row">
                            <div class="col">
                                <input style="width: 20px;" name="rentgen_result" id="rentgen_result" type="radio" value="1">
                                <label for="">+</label>
                            </div>
                            <div class="col">
                                <input style="width: 20px;" name="rentgen_result" id="rentgen_result" type="radio" value="0">
                                <label for="">-</label>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
                <div class="col">
                    <label for="">Дата рентгена</label>
                    <br>
                    <input id="rentgen_date" value="{{ g_patient.xray_date_format }}" name="rentgen_date" type="date">
                </div>
            </div>
            <div class="row mt-2">
                <label for="">Заключение рентгена</label>
                <input class="mx-auto" style="width: 95%;" value="{{ g_patient.xray_result }}" name="rentgen_result_diagnosis" id="rentgen_result_diagnosis" type="text">
            </div>
            <div class="row mt-2">
                <label for="">Дата выезда МБ</label>
                <input class="mx-auto" style="width: 95%;" value="{{ g_patient.date_mobile_brigade_format }}" name="mb_date" id="mb_date" type="date">
            </div>
            <div class="row mt-2">
                <label for="">Причина поздней подачи</label>
                <select class="mx-auto" style="width: 95%;" name="late_reason" id="late_reason">
                    <option value=""></option>
                    {% for s_late_reg in s_late_regs %}
                        <option {% if s_late_reg.id == g_patient.late_reg_reason %} selected {% endif %} value="{{ s_late_reg.id }}">{{ s_late_reg.name_ru }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="row">
                <h3 class="mt-2 mx-auto" style="padding: 5px; 
                    border-top: 1px solid #c9c9c9; 
                    border-left: 1px solid #c9c9c9; 
                    border-right:1px solid #c9c9c9; 
                    border-radius:5% 5% 0 0;
                    border: 1px solid gray;
                    background-color:rgb(204, 204, 204);
                    width: 95%;">
                Первоначальные контакты с пациентом
                </h3>
                <div class="row mt-2">
                    <label for="">Дата пол. данных от ПМСП</label>
                    <input class="mx-auto" style="width: 95%;" value="{{ g_patient.pmsp_start_date_format }}" id="pmsp_info_datetime" name="pmsp_info_datetime" type="datetime-local">
                </div>
                <div class="row mt-2">
                    <label for="">Дата первого звонка</label>
                    <input class="mx-auto" style="width: 95%;" value="{{ last_call|date:'Y-m-d'}}T{{ last_call|time:'H:i:s' }}" id="first_call_datetime" name="first_call_datetime" type="datetime-local">
                </div>
                <div class="row mt-2">
                    <div class="col-1"></div>
                    <input {% if g_patient.info_function == 1 %} selected {% endif %} class="col-1" style="width: 20px;" id="tmc_function_info" name="tmc_function_info" type="checkbox">
                    <label class="col-10" for="">Информирование о функциях ТМЦ</label>            
                </div>
                <div class="row mt-2">
                    <div class="col-1"></div>
                    <input {% if g_patient.info_condition == 1 %} selected {% endif %} class="col-1" style="width: 20px;" id="tmc_condition_info" name="tmc_condition_info" type="checkbox">
                    <label class="col-10" for="">Информирование об условиях ДН</label>            
                </div>
                <div class="row mt-2">
                    <div class="col-1"></div>
                    <input class="col-1" style="width: 20px;" id="refusal_hospitalize" name="refusal_hospitalize" type="checkbox">
                    <label class="col-10" {% if g_patient.hospitalize_tmc %} selected {% endif %} for="">Отказ от госпитализации</label>            
                </div>
                <div class="row mt-2">
                    <label for="">Завершение наблюдения со слов пациента</label> 
                    <br>
                    <select class="mx-auto" style="width: 95%;" name="end_monitoring_patient" id="end_monitoring_patient">
                        <option value=""></option>
                        {% for s_status_end in s_statuses_end %}
                            <option {% if s_status_end.id == g_patient.status_end %} selected {% endif %} value="{{ s_status_end.id }}">{{ s_status_end.name_ru }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="row mt-2">
                    <label for="">Стационар</label> 
                    <br>
                    <select class="mx-auto" style="width: 95%;" name="" id="">
                        <option value=""></option>
                        {% for s_pmsp in s_pmsps %}
                            <option {% if s_pmsp.bin == g_patient.p_stationar %} selected {% endif %} value="{{ s_pmsp.bin }}">{{ s_pmsp.abrev_rus }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="row mt-2">
                    <label for="">Дата завершения наблюдения</label> 
                    <br>
                    <input class="mx-auto" style="width: 95%;" id="status_end_date" value="{{ g_patient.p_close_end_date_format }}" name="status_end_date" type="date">
                </div>
                <div class="row mt-2">
                    <div class="col">
                        <label for="">Вакцина</label> 
                        <br>
                        <select id="vaccine" name="vaccine" name="" id="">
                            <option value=""></option>
                            {% for s_vaccine in s_vaccines %}
                                <option {% if s_vaccine.id == g_incident.vaccine_type %} selected {% endif %} value="{{ s_vaccine.id }}">{{ s_vaccine.name_en }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col">
                        <label for="">Доза</label> 
                        <br>
                        <input id="vaccine_doses" value="{{ g_incident.vaccine_dose }}" name="vaccine_doses" type="text">
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col">
                        <label for="">Дата доза 1</label> 
                        <br>
                        <input id="vaccine_first_date"  value="{{ g_incident.vaccine_date1|date:'Y-m-d'}}" name="vaccine_first_date" type="date">
                    </div>
                    <div class="col">
                        <label for="">Дата доза 2</label> 
                        <br>
                        <input id="vaccine_second_date" value="{{ g_incident.vaccine_date2|date:'Y-m-d'}}" name="vaccine_second_date" type="date">
                    </div>
                </div>
            </div>
    </div>    
</div>
    <!-- Сохранить/Закрыть -->
    <div class="row text-center">
        <div class="col-3">
            <select style="width: 200px;" name="" id="">
                <option value=""></option>
            </select>
        <button type="submit" class="btn btn-light">Сохранить</button>
        </div>
        <div class="col-2">
            <button type="button" class="btn btn-light">Закрыть</button>
        </div>
    </div>
</div>
</form>
<style>
    table{
        font-size: 13px;
        min-height: 150px;
    }
    select{
        font-size: 13px;
    }
    input{
        font-size: 13px;
    }
    label{
        font-size: 13px;
    }
    select{
        border: 0.5px solid  rgb(118, 118, 118);
        border-radius: 2px;
        margin-left: 1px;
    }
    select, input{
      box-sizing: border-box;
      width: 100%;
      padding: 0;
      margin: 0;
      height: 20px;
    }
    .active{
        background-color:rgb(36, 36, 36);
        color: white;
    }
    a{
        text-decoration: none;
    }
    hr{
        padding: 0;
        margin: 0;
    }
    body{
        background-color: #e9e9e9;
    }
</style>
<script>
    window.bpspat.api.init("https://demov5_kz.hostedcc.ru");
    document.getElementById("repeater").src = window.location.href.replace("AgentDesktopSdkTest", "UniversalRepeater");

    
    function makeActive(id) {
        var patients = document.getElementById();
        var call_history = docuemnt.getElementById()
        element.classList.add("active")
        element.classList.remove("active");
    }
    function choseHistory(button) {
        var modal_patients = document.getElementById('modal_patients');
        var modal_calls = document.getElementById('modal_calls')
        if (button === "patients"){
            modal_calls.style.display = 'none'
            modal_patients.style.display = 'block'
        }
        else{
            modal_calls.style.display = 'block'
            modal_patients.style.display = 'none'
        }
    }
    
</script>
<script>
    function showDialog() {    
        $('#for_popup').load('/add_form/{{ g_patient.id }}');
        $('#popup').modal('show');
    }
    var currentDirectory = window.location.pathname.split('/').slice(0, -1).join('/')
        document.addEventListener("DOMContentLoaded", function(event) { 
        console.log(currentDirectory)
    });
    var is_resident = document.getElementById("is_resident");
    var s_country = document.getElementById("s_country")
    var num_doc = document.getElementById("num_doc")

    is_resident.addEventListener('change', function() {
    if (this.checked) {
        s_country.disabled = true
        num_doc.disabled = true
        console.log('DISABLED')
    } else {
        s_country.disabled = false
        num_doc.disabled = false
        console.log('ENABLED')
    }
    });
</script> 
<script>   
// nachalo checklist push
const csrftoken = document.querySelector('[name=csrfmiddlewaretoken]').value;

        function postCheckList(){
			ElementsValuesMigrate('jaloba_na_pmsp_pre', 'jaloba_na_pmsp');
			ElementsValuesMigrate('narushen_karantin_pre', 'narushen_karantin');
			ElementsValuesMigrate('f_primechanie_pre', 'f_primechanie');
			ElementsValuesMigrate('medical_taken_pre', 'medical_taken');
			ElementsValuesMigrate('blagodarnost_pre', 'blagodarnost');
			ElementsValuesMigrate('f_primechanie_pre', 'f_primechanie');
			ElementsValuesMigrate('wellbeing_pre', 'wellbeing')
			SetDateTime()
			let date = document.getElementById('date').value 
			let sore_throat = document.getElementById('sore_throat').value 
			let nasal_congestion = document.getElementById('nasal_congestion').value 
			let shortness_breath = document.getElementById('shortness_breath').value 
			let vomiting = document.getElementById('vomiting').value 
			let nausea = document.getElementById('nausea').value 
			let diarrhea = document.getElementById('diarrhea').value 
			let dry_cough = document.getElementById('dry_cough').value 
			let palpitations = document.getElementById('palpitations').value 
			let debility = document.getElementById('debility').value 
			let headache = document.getElementById('headache').value 
			let congestion_chest = document.getElementById('congestion_chest').value 
			let anosmia = document.getElementById('anosmia').value 
			let loss_taste = document.getElementById('loss_taste').value 
			let cough_phlegm = document.getElementById('cough_phlegm').value 
			let sweating = document.getElementById('sweating').value 
			let dyspnea = document.getElementById('dyspnea').value 
			let muscle_pain = document.getElementById('muscle_pain').value 
			let joint_pain = document.getElementById('joint_pain').value 
			let discharge_eyes_redness = document.getElementById('discharge_eyes_redness').value 
			let rash = document.getElementById('rash').value 
			let operator_id = document.getElementById('operator_id').value 
			let temperature = document.getElementById('temperature').value 
			let saturation = document.getElementById('saturation').value 
			let wellbeing = document.getElementById('wellbeing').value 
			let home_nabl = document.getElementById('home_nabl').value 
			let vipoln_naznach = document.getElementById('vipoln_naznach').value 
			let sostoyznie = document.getElementById('sostoyznie').value 
			let narushen_karantin = document.getElementById('narushen_karantin').value 
			let video_call = document.getElementById('video_call').value 
			let jaloba_na_pmsp = document.getElementById('jaloba_na_pmsp').value 
			let p_povtor_pcr = document.getElementById('p_povtor_pcr').value 
			let p_go_street = document.getElementById('p_go_street').value 
			let p_kt = document.getElementById('p_kt').value 
			let p_n_naznachenie = document.getElementById('p_n_naznachenie').value 
			let p_n_list = document.getElementById('p_n_list').value 
			let p_n_raspiska = document.getElementById('p_n_raspiska').value 
			let p_n_mb = document.getElementById('p_n_mb').value 
			let p_n_call = document.getElementById('p_n_call').value 
			let medical_taken = document.getElementById('medical_taken').value 
			let violation_quar = document.getElementById('violation_quar').value 
			let violation_descr = document.getElementById('violation_descr').value 
			let f_send_mb = document.getElementById('f_send_mb').value 
			let f_corect_ls = document.getElementById('f_corect_ls').value 
			let f_repeat_call = document.getElementById('f_repeat_call').value 
			let f_conf_dc = document.getElementById('f_conf_dc').value 
			let f_other_comp_pmsp = document.getElementById('f_other_comp_pmsp').value 
			let f_social_help = document.getElementById('f_social_help').value 
			let snijenie_sluha = document.getElementById('snijenie_sluha').value 
			let boli_v_jivote = document.getElementById('boli_v_jivote').value 
			let onemenie = document.getElementById('onemenie').value 
			let blagodarnost = document.getElementById('blagodarnost').value 
			let f_primechanie = document.getElementById('f_primechanie').value 
			let p_dk_end = document.getElementById('p_dk_end').value 
			let p_gospt_ranee = document.getElementById('p_gospt_ranee').value 
			let p_net_svyazi = document.getElementById('p_net_svyazi').value 
			let p_error_data = document.getElementById('p_error_data').value 

			// const json = JSON.stringify({
			// 	'date' : date,
			// 	'sore_throat' : sore_throat,
			// 	'nasal_congestion' : nasal_congestion,
			// 	'shortness_breath' : shortness_breath,
			// 	'vomiting' : vomiting,
			// 	'nausea' : nausea,
			// 	'diarrhea' : diarrhea,
			// 	'dry_cough' : dry_cough,
			// 	'palpitations' : palpitations,
			// 	'debility' : debility,
			// 	'headache' : headache,
			// 	'congestion_chest' : congestion_chest,
			// 	'anosmia' : anosmia,
			// 	'loss_taste' : loss_taste,
			// 	'cough_phlegm' : cough_phlegm,
			// 	'sweating' : sweating,
			// 	'dyspnea' : dyspnea,
			// 	'muscle_pain' : muscle_pain,
			// 	'joint_pain' : joint_pain,
			// 	'discharge_eyes_redness' : discharge_eyes_redness,
			// 	'rash' : rash,
			// 	'operator_id' : operator_id,
			// 	'temperature' : temperature,
			// 	'saturation' : saturation,
			// 	'wellbeing' : wellbeing,
			// 	'home_nabl' : home_nabl,
			// 	'vipoln_naznach' : vipoln_naznach,
			// 	'sostoyznie' : sostoyznie,
			// 	'narushen_karantin' : narushen_karantin,
			// 	'video_call' : video_call,
			// 	'jaloba_na_pmsp' : jaloba_na_pmsp,
			// 	'p_povtor_pcr' : p_povtor_pcr,
			// 	'p_go_street' : p_go_street,
			// 	'p_kt' : p_kt,
			// 	'p_n_naznachenie' : p_n_naznachenie,
			// 	'p_n_list' : p_n_list,
			// 	'p_n_raspiska' : p_n_raspiska,
			// 	'p_n_mb' : p_n_mb,
			// 	'p_n_call' : p_n_call,
			// 	'medical_taken' : medical_taken,
			// 	'violation_quar' : violation_quar,
			// 	'violation_descr' : violation_descr,
			// 	'f_send_mb' : f_send_mb,
			// 	'f_corect_ls' : f_corect_ls,
			// 	'f_repeat_call' : f_repeat_call,
			// 	'f_conf_dc' : f_conf_dc,
			// 	'f_other_comp_pmsp' : f_other_comp_pmsp,
			// 	'f_social_help' : f_social_help,
			// 	'snijenie_sluha' : snijenie_sluha,
			// 	'boli_v_jivote' : boli_v_jivote,
			// 	'onemenie' : onemenie,
			// 	'blagodarnost' : blagodarnost,
			// 	'f_primechanie' : f_primechanie,
			// 	'p_dk_end' : p_dk_end,
			// 	'p_gospt_ranee' : p_gospt_ranee,
			// 	'p_net_svyazi' : p_net_svyazi,
			// 	'p_error_data' : p_error_data,
	 
			// });
			const lastSegment = full_url.split("/").pop();
			axios({
				method: 'post',
				url: 'checklist/save/' + lastSegment,
                headers: {"X-CSRFToken": csrftoken},
				data: {
					date: date,
					sore_throat: sore_throat,
					nasal_congestion: nasal_congestion,
					shortness_breath: shortness_breath,
					vomiting: vomiting,
					nausea: nausea,
					diarrhea: diarrhea,
					dry_cough: dry_cough,
					palpitations: palpitations,
					debility: debility,
					headache: headache,
					congestion_chest: congestion_chest,
					anosmia: anosmia,
					loss_taste: loss_taste,
					cough_phlegm: cough_phlegm,
					sweating: sweating,
					dyspnea: dyspnea,
					muscle_pain: muscle_pain,
					joint_pain: joint_pain,
					discharge_eyes_redness: discharge_eyes_redness,
					rash: rash,
					operator_id: operator_id,
					temperature: temperature,
					saturation: saturation,
					wellbeing: wellbeing,
					home_nabl: home_nabl,
					vipoln_naznach: vipoln_naznach,
					sostoyznie: sostoyznie,
					narushen_karantin: narushen_karantin,
					video_call: video_call,
					jaloba_na_pmsp: jaloba_na_pmsp,
					p_povtor_pcr: p_povtor_pcr,
					p_go_street: p_go_street,
					p_kt: p_kt,
					p_n_naznachenie: p_n_naznachenie,
					p_n_list: p_n_list,
					p_n_raspiska: p_n_raspiska,
					p_n_mb: p_n_mb,
					p_n_call: p_n_call,
					medical_taken: medical_taken,
					violation_quar: violation_quar,
					violation_descr: violation_descr,
					f_send_mb: f_send_mb,
					f_corect_ls: f_corect_ls,
					f_repeat_call: f_repeat_call,
					f_conf_dc: f_conf_dc,
					f_other_comp_pmsp: f_other_comp_pmsp,
					f_social_help: f_social_help,
					snijenie_sluha: snijenie_sluha,
					boli_v_jivote: boli_v_jivote,
					onemenie: onemenie,
					blagodarnost: blagodarnost,
					f_primechanie: f_primechanie,
					p_dk_end: p_dk_end,
					p_gospt_ranee: p_gospt_ranee,
					p_net_svyazi: p_net_svyazi,
					p_error_data: p_error_data,
				}
            });	}
</script>
<script>
	function ElementsValuesMigrate(id1, id2){
		let pre_data = document.getElementById(id1)
		let migrate_to = document.getElementById(id2)
		try{
			migrate_to.value = pre_data.value
		}
		catch(e){
			//pass
		}
		finally{
			//pass
		}
	}
function SetDateTime(){ 
	var now = new Date();
	now. setMinutes(now. getMinutes() - now. getTimezoneOffset());
	document. getElementById('date'). value = now. toISOString(). slice(0,16);
}

const CheckList = 	'<form class="px-2 row" id="popup" style="background-color: #e9e9e9; border: 2px solid black;" method="POST" style="padding: 0px;">' +
'	<!-- БЛОК 1 -->' +
'	<div class="col">' +
'		<h3 class="p-1" style="border: 1px solid gray; border-radius: 5px 5px 0 0; font-size: 14px;">Информирование и контроль</h3>' +
'		<table class="p-1" style="width: 100%; min-height: 50px;">' +
'			<tbody style="display: block; min-height: 50px; border: 1px solid gray;" class="px-2">' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Соблюдение условий пребывания' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="home_nabl" id="home_nabl_true" class="input_radio" name="" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="home_nabl" id="home_nabl_false" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Выполнение назначений' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="vipoln_naznach" id="vipolt_naznach_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="vipoln_naznach" id="vipolt_naznach_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1 mb-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Видеозвонок оператора' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="video_call" id="video_call_true" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="video_call" id="video_call_false" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'			</tbody>' +
'		</table>' +
'		<div class="mt-1">' +
'			<h3 style="font-size: 14px;">Жалобы пациента на ПМСП</h3>' +
'			<textarea name="jaloba_na_pmsp_pre" id="jaloba_na_pmsp_pre" cols="55" rows="4"></textarea>' +
'			<input type="text" hidden name="jaloba_na_pmsp" id="jaloba_na_pmsp">' +
'		</div>' +
'		<div class="mt-1">' +
'			<h3 style="font-size: 14px;">Нарушения карантина пациентом</h3>' +
'			<textarea name="violation_quar_pre" id="violation_quar_pre" cols="55" rows="4"></textarea>' +
'			<input type="text" id="violation_quar" name="violation_quar" hidden>' +
'		</div>' +
'		<h3 class="mt-1 p-1" style="border: 1px solid gray; border-radius: 5px 5px 0 0; font-size: 14px;">Нарушение ПМСП</h3>' +
'		<table class="p-1" style="width: 100%; min-height: 100px;">' +
'			<tbody style="display: block; min-height: 100px; border: 1px solid gray;" class="px-2">' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Повторный забор ПЦР на ДН' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_povtor_pcr" id="p_povtor_pcr_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_povtor_pcr" id="p_povtor_pcr_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Разрешение выхода на улицу' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_go_street" id="p_go_street_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_go_street" id="p_go_street_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Разрешен самостоятельный выезд на КТ' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_kt" id="p_kt_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_kt" id="p_kt_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Неправильное назначение ЛС' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_n_naznachenie" id="p_n_naznachenie_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_n_naznachenie" id="p_n_naznachenie_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Невыдача чек-листа' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_n_list" id="p_n_list_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_n_list" id="p_n_list_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Не взята расписка' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_n_raspiska" id="p_n_raspiska_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_n_raspiska" id="p_n_raspiska_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Нет выезда МБ' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_n_mb" id="p_n_mb_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_n_mb" id="p_n_mb_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Не звонили в прош. сутки' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_n_call" id="p_n_call_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_n_call" id="p_n_call_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						ДК завершен' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_dk_end" id="p_dk_end_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" style="width: 20px;" name="p_dk_end" id="p_dk_end_false" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Госпитализирован ранее' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_gospt_ranee" id="p_gospt_ranee_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_gospt_ranee" id="p_gospt_ranee_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Нет связи с пациентом и ГП' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_net_svyazi" id="p_net_svyazi_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_net_svyazi" id="p_net_svyazi_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1 mb-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Неверные данные' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_error_data" id="p_error_data_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="p_error_data" id="p_error_data_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'			</tbody>' +
'		</table>' +
'		<h3 class="mt-1" style="font-size: 14px;">Описание нарушений ПМСП</h3>' +
'		<textarea name="violation_descr_pre" id="violation_descr_pre" cols="55" rows="4"></textarea>' +
'		<input type="text" id="violation_descr" name="violation_descr" hidden>' +
'	</div>' +
'	<!-- БЛОК 2 -->' +
'	<div class="col">' +
'		<label for="">Оценка текущего состояния</label>' +
'		<select name="sostoyznie" id="sostoyznie">' +
'			<option value=""></option>' +
'			<option value="1">Бессимптомное</option>' +
'			<option value="2">Легкой степени тяжести</option>' +
'			<option value="3">Среднетяжелой степени тяжести</option>' +
'			<option value="4">Тяжелой степени тяжести</option>' +
'		</select>' +
'		<div class="row">' +
'			<div class="col">' +
'				<label for="">Температура</label>' +
'				<br>' +
'				<input id="temperature" name="temperature" type="text">' +
'			</div>' +
'			<div class="col">' +
'				<label for="">Сатурация</label>' +
'				<input id="saturation" name="saturation" type="text">' +
'			</div>' +
'		</div>' +
'		<h3 class="p-1 mt-2" style="border: 1px solid gray; border-radius: 5px 5px 0 0; font-size: 14px;">Чеклист мониторинг</h3>' +
'		<table style="min-height: 100px; width: 100%">' +
'			<tbody style="display: block; min-height: 100px; border: 1px solid gray;" class="px-2">' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Слабость' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="debility" id="debility_true" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="debility" id="debility_false" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Потливость' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" id="sweating_true" name="sweating" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" id="sweating_false" name="sweating" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Головная боль' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="headache" id="headache_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="headache" id="headache_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Выделение из глаз или покраснение' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="discharge_eyes_redness" id="discharge_eyes_redness_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="discharge_eyes_redness" id="discharge_eyes_redness_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Снижение слуха / боли в ушах' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="snijenie_sluha" id="snijenie_sluha_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="snijenie_sluha" id="snijenie_sluha_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Заложенность носа' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="nasal_congestion" id="nasal_congestion_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="nasal_congestion" id="nasal_congestion_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Потеря обоняния' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="anosmia" id="anosmia_true" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="anosmia" id="anosmia_false" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Потеря вкуса' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="loss_taste" id="loss_taste_true" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="loss_taste" id="loss_taste_false" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Боль/першение в горле' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="sore_throat" id="sore_throat_true" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="sore_throat" id="sore_throat_false" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Кашель сухой' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="dry_cough" id="dry_cough_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="dry_cough" id="dry_cough_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Кашель влажный с мокротой' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="cough_phlegm" id="cough_phlegm_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="cough_phlegm" id="cough_phlegm_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Затрудненность дыхания' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="shortness_breath" id="shortness_breath_true" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="shortness_breath" id="shortness_breath_false" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Одышка' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="dyspnea" id="dyspnea_true" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="dyspnea" id="dyspnea_false" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Ощущение сердцебиения/стестнения в груди' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="palpitations" id="palpitations_true" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="palpitations" id="palpitations_false" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Ощущение заложенности в грудной клетке' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="congestion_chest" id="congestion_chest_true" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="congestion_chest" id="congestion_chest_false" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Тошнота' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="nausea" id="nausea_true" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="nausea" id="nausea_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Рвота' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="vomiting" id="vomiting_true" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="vomiting" id="vomiting_false" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Боли в животе' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="boli_v_jivote" id="boli_v_jivote_true" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="boli_v_jivote" id="boli_v_jivote_false" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Диарея' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="diarrhea" id="diarrhea_true" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="diarrhea" id="diarrhea_false" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Боль в мышцах' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="muscle_pain" id="muscle_pain_true" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="muscle_pain" id="muscle_pain_false" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Боль в суставах' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="joint_pain" id="joint_pain_true" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input class="input_radio" name="joint_pain" id="joint_pain_false" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Онемение/боли в НК' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="onemenie" id="onemenie_true" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="onemenie" id="onemenie_false" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'				<tr class="mt-1 mb-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'					<td>' +
'						Сыпь' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="rash" id="rash_true" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Да</label>' +
'						</div>' +
'					</td>' +
'					<td>' +
'						<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'							<input name="rash" id="rash_false" class="input_radio" style="width: 20px;" type="radio">' +
'							<label for="">Нет</label>' +
'						</div>	' +
'					</td>' +
'				</tr>' +
'			</tbody>' +
'		</table>' +
'		<h3 class="mt-1" style="font-size: 14px;">Жалобы на состояние здоровья</h3>' +
'		<textarea name="wellbeing_pre" id="wellbeing_pre" cols="52" rows="2"></textarea>' +
'		<!-- доработать -->' +
'		<input id="wellbeing" name="wellbeing" type="text" hidden>' +
'		</div>' +
'	</div>' +
'	<!-- НИЖНИЕ БЛОК -->' +
'	<div class="row">' +
'		<!-- БЛОК №1 -->' +
'		<div class="col-8">' +
'			<h3 class="p-1 mt-2" style="border: 1px solid gray; border-radius: 5px 5px 0 0; font-size: 14px;">Обратная связь</h3>' +
'			<table class="p-1" style="width: 100%; min-height: 50px;">' +
'				<tbody style="display: block; min-height: 50px; border: 1px solid gray;" class="px-2">' +
'					<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'						<td>' +
'							Отправить МБ' +
'						</td>' +
'						<td>' +
'							<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'								<input name="f_send_mb" id="f_send_mb_true" class="input_radio" style="width: 20px;" type="radio">' +
'								<label for="">Да</label>' +
'							</div>' +
'						</td>' +
'						<td>' +
'							<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'								<input name="f_send_mb" id="f_send_mb_false" class="input_radio" style="width: 20px;" type="radio">' +
'								<label for="">Нет</label>' +
'							</div>	' +
'						</td>' +
'					</tr>' +
'					<tr class="mt-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'						<td>' +
'							Корректировка ЛС' +
'						</td>' +
'						<td>' +
'							<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'								<input name="f_corect_ls" id="f_corect_ls_true" class="input_radio" style="width: 20px;" type="radio">' +
'								<label for="">Да</label>' +
'							</div>' +
'						</td>' +
'						<td>' +
'							<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'								<input name="f_corect_ls" id="f_corect_ls_false" class="input_radio" style="width: 20px;" type="radio">' +
'								<label for="">Нет</label>' +
'							</div>	' +
'						</td>' +
'					</tr>' +
'					<tr class="mt-1 mb-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'						<!-- не точно -->' +
'						<td>' +
'							Отбор биоматериала у контактных лиц' +
'						</td>' +
'						<td>' +
'							<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'								<input name="f_conf_dc" id="f_conf_dc_true" class="input_radio" style="width: 20px;" type="radio">' +
'								<label for="">Да</label>' +
'							</div>' +
'						</td>' +
'						<td>' +
'							<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'								<input name="f_conf_dc" id="f_conf_dc_false" class="input_radio" style="width: 20px;" type="radio">' +
'								<label for="">Нет</label>' +
'							</div>	' +
'						</td>' +
'					</tr>' +
'					<tr class="mt-1 mb-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'						<td>' +
'							Повторный звонок за сутки' +
'						</td>' +
'						<td>' +
'							<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'								<input name="f_repeat_call" id="f_repeat_call_true" class="input_radio" style="width: 20px;" type="radio">' +
'								<label for="">Да</label>' +
'							</div>' +
'						</td>' +
'						<td>' +
'							<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'								<input name="f_repeat_call" id="f_repeat_call_false" class="input_radio" style="width: 20px;" type="radio">' +
'								<label for="">Нет</label>' +
'							</div>	' +
'						</td>' +
'					</tr>' +
'					<tr class="mt-1 mb-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'						<td>' +
'							Подтвердить нарушение ДК' +
'						</td>' +
'						<td>' +
'							<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'								<input name="narushen_karantin" id="narushen_karantin_true" class="input_radio" style="width: 20px;" type="radio">' +
'								<label for="">Да</label>' +
'							</div>' +
'						</td>' +
'						<td>' +
'							<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'								<input name="narushen_karantin" id="narushen_karantin_false" class="input_radio" style="width: 20px;" type="radio">' +
'								<label for="">Нет</label>' +
'							</div>	' +
'						</td>' +
'					</tr>' +
'					<tr class="mt-1 mb-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'						<td>' +
'							Прочие жалобы на ПМСП' +
'						</td>' +
'						<td>' +
'							<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'								<input name="f_other_comp_pmsp" id="f_other_comp_pmsp_true" class="input_radio" style="width: 20px;" type="radio">' +
'								<label for="">Да</label>' +
'							</div>' +
'						</td>' +
'						<td>' +
'							<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'								<input name="f_other_comp_pmsp" id="f_other_comp_pmsp_false" class="input_radio" style="width: 20px;" type="radio">' +
'								<label for="">Нет</label>' +
'							</div>	' +
'						</td>' +
'					</tr>' +
'					<tr class="mt-1 mb-1" style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'						<td>' +
'							Соц. помощь' +
'						</td>' +
'						<td>' +
'							<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'								<input name="f_social_help" id="f_social_help_true" class="input_radio" style="width: 20px;" type="radio">' +
'								<label for="">Да</label>' +
'							</div>' +
'						</td>' +
'						<td>' +
'							<div style="display:flex; flex-direction: row; justify-content: end; align-items: center">' +
'								<input name="f_social_help" id="f_social_help_false" class="input_radio" style="width: 20px;" type="radio">' +
'								<label for="">Нет</label>' +
'							</div>	' +
'						</td>' +
'					</tr>' +
'				</tbody>' +
'			</table>' +
'			<h3 style="font-size: 14px;;">Примечание</h3>' +
'			<textarea name="f_primechanie_pre" id="f_primechanie_pre" cols="72" rows="2"></textarea>' +
'			<input type="text" id="f_primechanie" hidden name="f_primechanie">' +
'		</div>' +
'		<div class="col-4">' +
'			<h3 style="font-size: 14px;">Принимаемые препараты</h3>' +
'			<textarea name="medical_taken_pre" id="medical_taken_pre" cols="36" rows="6"></textarea>' +
'			<input type="text" id="medical_taken" name="medical_taken" hidden>' +
'			<h3 style="font-size: 14px;">Благодарность ТМЦ</h3>' +
'			<textarea name="blagodarnost_pre" id="blagodarnost_pre" cols="36" rows="6"></textarea>' +
'			<input type="text" name="blagodarnost" hidden id="blagodarnost">' +
'		</div>' +
'	</div>' +
'	<div class="row">' +
'		<div class="col">' +
'			<button class="btn btn-light">Видезвонок</button>' +
'		</div>' +
'		<div class="col row">' +
'			<button onclick="postCheckList()" type="button" id="save_changes" class="button btn-light col p-0">Сохранить</button>' +
"			<button class='button btn-light col p-0' type='button' id='close'>Отмена</button>" +
'		</div>' +
'	</div>' +
'	<input type="datetime-local" hidden id="date" name="date">' +
'	<input type="text" value="{{ id }}">' +
'</form>'
function addCheckList(){
    let div = document.getElementById('for_popup')
    div.innerHTML += CheckList
    document.getElementById('close').addEventListener("click", function(event){
        $("#for_popup").empty();
        let date = document.getElementsByName('date').value 
		const sore_throat = document.getElementsByName('sore_throat').value 
		const nasal_congestion = document.getElementsByName('nasal_congestion').value 
		const shortness_breath = document.getElementsByName('shortness_breath').value 
		const vomiting = document.getElementsByName('vomiting').value 
		const nausea = document.getElementsByName('nausea').value 
		const diarrhea = document.getElementsByName('diarrhea').value 
		const dry_cough = document.getElementsByName('dry_cough').value 
		const palpitations = document.getElementsByName('palpitations').value 
		const debility = document.getElementsByName('debility').value 
		const headache = document.getElementsByName('headache').value 
		const congestion_chest = document.getElementsByName('congestion_chest').value 
		const anosmia = document.getElementsByName('anosmia').value 
		const loss_taste = document.getElementsByName('loss_taste').value 
		const cough_phlegm = document.getElementsByName('cough_phlegm').value 
		const sweating = document.getElementsByName('sweating').value 
		const dyspnea = document.getElementsByName('dyspnea').value 
		const muscle_pain = document.getElementsByName('muscle_pain').value 
		const joint_pain = document.getElementsByName('joint_pain').value 
		const discharge_eyes_redness = document.getElementsByName('discharge_eyes_redness').value 
		const rash = document.getElementsByName('rash').value 
		const operator_id = document.getElementsByName('operator_id').value 
		const temperature = document.getElementsByName('temperature').value 
		const saturation = document.getElementsByName('saturation').value 
		const wellbeing = document.getElementsByName('wellbeing').value 
		const home_nabl = document.getElementsByName('home_nabl').value 
		const vipoln_naznach = document.getElementsByName('vipoln_naznach').value 
		const sostoyznie = document.getElementsByName('sostoyznie').value 
		const narushen_karantin = document.getElementsByName('narushen_karantin').value 
		const video_call = document.getElementsByName('video_call').value 
		const jaloba_na_pmsp = document.getElementsByName('jaloba_na_pmsp').value 
		const p_povtor_pcr = document.getElementsByName('p_povtor_pcr').value 
		const p_go_street = document.getElementsByName('p_go_street').value 
		const p_kt = document.getElementsByName('p_kt').value 
		const p_n_naznachenie = document.getElementsByName('p_n_naznachenie').value 
		const p_n_list = document.getElementsByName('p_n_list').value 
		const p_n_raspiska = document.getElementsByName('p_n_raspiska').value 
		const p_n_mb = document.getElementsByName('p_n_mb').value 
		const p_n_call = document.getElementsByName('p_n_call').value 
		const medical_taken = document.getElementsByName('medical_taken').value 
		const violation_quar = document.getElementsByName('violation_quar').value 
		const violation_descr = document.getElementsByName('violation_descr').value 
		const f_send_mb = document.getElementsByName('f_send_mb').value 
		const f_corect_ls = document.getElementsByName('f_corect_ls').value 
		const f_repeat_call = document.getElementsByName('f_repeat_call').value 
		const f_conf_dc = document.getElementsByName('f_conf_dc').value 
		const f_other_comp_pmsp = document.getElementsByName('f_other_comp_pmsp').value 
		const f_social_help = document.getElementsByName('f_social_help').value 
		const snijenie_sluha = document.getElementsByName('snijenie_sluha').value 
		const boli_v_jivote = document.getElementsByName('boli_v_jivote').value 
		const onemenie = document.getElementsByName('onemenie').value 
		const blagodarnost = document.getElementsByName('blagodarnost').value 
		const f_primechanie = document.getElementsByName('f_primechanie').value 
		const p_dk_end = document.getElementsByName('p_dk_end').value 
		const p_gospt_ranee = document.getElementsByName('p_gospt_ranee').value 
		const p_net_svyazi = document.getElementsByName('p_net_svyazi').value 
		const p_error_data = document.getElementsByName('p_error_data').value     
});
}
</script>
<style>
    #popup{
        position:absolute;
		top: 50%;
		left: 50%;
        transform:translate(-50%, -50%);
        box-shadow: 9px 9px 9px 9px gray;
    }
	table{
		border: 1px solid gray;
	}
	td{
		height: 18px;
		vertical-align: middle;
		font-size: 12px;
	}
	tr{
		height: 18px;
	}
	input{
		min-height: 15px;
	}
</style>
<script>   
	// nachalo checklist push
			function postCheckList(){
				ElementsValuesMigrate('jaloba_na_pmsp_pre', 'jaloba_na_pmsp');
				ElementsValuesMigrate('narushen_karantin_pre', 'narushen_karantin');
				ElementsValuesMigrate('f_primechanie_pre', 'f_primechanie');
				ElementsValuesMigrate('medical_taken_pre', 'medical_taken');
				ElementsValuesMigrate('blagodarnost_pre', 'blagodarnost');
				ElementsValuesMigrate('f_primechanie_pre', 'f_primechanie');
				ElementsValuesMigrate('wellbeing_pre', 'wellbeing')
				SetDateTime()
	
				// const json = JSON.stringify({
				// 	'date' : date,
				// 	'sore_throat' : sore_throat,
				// 	'nasal_congestion' : nasal_congestion,
				// 	'shortness_breath' : shortness_breath,
				// 	'vomiting' : vomiting,
				// 	'nausea' : nausea,
				// 	'diarrhea' : diarrhea,
				// 	'dry_cough' : dry_cough,
				// 	'palpitations' : palpitations,
				// 	'debility' : debility,
				// 	'headache' : headache,
				// 	'congestion_chest' : congestion_chest,
				// 	'anosmia' : anosmia,
				// 	'loss_taste' : loss_taste,
				// 	'cough_phlegm' : cough_phlegm,
				// 	'sweating' : sweating,
				// 	'dyspnea' : dyspnea,
				// 	'muscle_pain' : muscle_pain,
				// 	'joint_pain' : joint_pain,
				// 	'discharge_eyes_redness' : discharge_eyes_redness,
				// 	'rash' : rash,
				// 	'operator_id' : operator_id,
				// 	'temperature' : temperature,
				// 	'saturation' : saturation,
				// 	'wellbeing' : wellbeing,
				// 	'home_nabl' : home_nabl,
				// 	'vipoln_naznach' : vipoln_naznach,
				// 	'sostoyznie' : sostoyznie,
				// 	'narushen_karantin' : narushen_karantin,
				// 	'video_call' : video_call,
				// 	'jaloba_na_pmsp' : jaloba_na_pmsp,
				// 	'p_povtor_pcr' : p_povtor_pcr,
				// 	'p_go_street' : p_go_street,
				// 	'p_kt' : p_kt,
				// 	'p_n_naznachenie' : p_n_naznachenie,
				// 	'p_n_list' : p_n_list,
				// 	'p_n_raspiska' : p_n_raspiska,
				// 	'p_n_mb' : p_n_mb,
				// 	'p_n_call' : p_n_call,
				// 	'medical_taken' : medical_taken,
				// 	'violation_quar' : violation_quar,
				// 	'violation_descr' : violation_descr,
				// 	'f_send_mb' : f_send_mb,
				// 	'f_corect_ls' : f_corect_ls,
				// 	'f_repeat_call' : f_repeat_call,
				// 	'f_conf_dc' : f_conf_dc,
				// 	'f_other_comp_pmsp' : f_other_comp_pmsp,
				// 	'f_social_help' : f_social_help,
				// 	'snijenie_sluha' : snijenie_sluha,
				// 	'boli_v_jivote' : boli_v_jivote,
				// 	'onemenie' : onemenie,
				// 	'blagodarnost' : blagodarnost,
				// 	'f_primechanie' : f_primechanie,
				// 	'p_dk_end' : p_dk_end,
				// 	'p_gospt_ranee' : p_gospt_ranee,
				// 	'p_net_svyazi' : p_net_svyazi,
				// 	'p_error_data' : p_error_data,
		 
				// });
                const full_url = window.location.href
				const lastSegment = full_url.split("/").pop();
				axios({
					method: 'post',
					url: 'checklist/save/' + lastSegment,
					headers: {"X-CSRFToken": csrftoken},
					// data: {
					// 	date: date,
					// 	sore_throat: sore_throat,
					// 	nasal_congestion: nasal_congestion,
					// 	shortness_breath: shortness_breath,
					// 	vomiting: vomiting,
					// 	nausea: nausea,
					// 	diarrhea: diarrhea,
					// 	dry_cough: dry_cough,
					// 	palpitations: palpitations,
					// 	debility: debility,
					// 	headache: headache,
					// 	congestion_chest: congestion_chest,
					// 	anosmia: anosmia,
					// 	loss_taste: loss_taste,
					// 	cough_phlegm: cough_phlegm,
					// 	sweating: sweating,
					// 	dyspnea: dyspnea,
					// 	muscle_pain: muscle_pain,
					// 	joint_pain: joint_pain,
					// 	discharge_eyes_redness: discharge_eyes_redness,
					// 	rash: rash,
					// 	operator_id: operator_id,
					// 	temperature: temperature,
					// 	saturation: saturation,
					// 	wellbeing: wellbeing,
					// 	home_nabl: home_nabl,
					// 	vipoln_naznach: vipoln_naznach,
					// 	sostoyznie: sostoyznie,
					// 	narushen_karantin: narushen_karantin,
					// 	video_call: video_call,
					// 	jaloba_na_pmsp: jaloba_na_pmsp,
					// 	p_povtor_pcr: p_povtor_pcr,
					// 	p_go_street: p_go_street,
					// 	p_kt: p_kt,
					// 	p_n_naznachenie: p_n_naznachenie,
					// 	p_n_list: p_n_list,
					// 	p_n_raspiska: p_n_raspiska,
					// 	p_n_mb: p_n_mb,
					// 	p_n_call: p_n_call,
					// 	medical_taken: medical_taken,
					// 	violation_quar: violation_quar,
					// 	violation_descr: violation_descr,
					// 	f_send_mb: f_send_mb,
					// 	f_corect_ls: f_corect_ls,
					// 	f_repeat_call: f_repeat_call,
					// 	f_conf_dc: f_conf_dc,
					// 	f_other_comp_pmsp: f_other_comp_pmsp,
					// 	f_social_help: f_social_help,
					// 	snijenie_sluha: snijenie_sluha,
					// 	boli_v_jivote: boli_v_jivote,
					// 	onemenie: onemenie,
					// 	blagodarnost: blagodarnost,
					// 	f_primechanie: f_primechanie,
					// 	p_dk_end: p_dk_end,
					// 	p_gospt_ranee: p_gospt_ranee,
					// 	p_net_svyazi: p_net_svyazi,
					// 	p_error_data: p_error_data,
					// }
				});	}
	</script>
	<script>
		function ElementsValuesMigrate(id1, id2){
			let pre_data = document.getElementById(id1)
			let migrate_to = document.getElementById(id2)
			try{
				migrate_to.value = pre_data.value
			}
			catch(e){
				//pass
			}
			finally{
				//pass
			}
		}
	function SetDateTime(){ 
		var now = new Date();
		now. setMinutes(now. getMinutes() - now. getTimezoneOffset());
		document. getElementById('date'). value = now. toISOString(). slice(0,16);
	}
	</script>
{% endblock %}